seed: ${..seed}
algo: ExtrinsicAdapt

load_path: ${..checkpoint} # path to the checkpoint to load

desired_subassemblies: ['yellow_round_peg_2in']
#                            'round_peg_hole_8mm_loose', round_peg_hole_16mm_loose
#                            'round_peg_hole_12mm_loose',
#                            'round_peg_hole_4mm_loose',yellow_round_peg_2in, red_round_peg_15in
#                            'rectangular_peg_hole_4mm_loose',
#                            'rectangular_peg_hole_8mm_loose',
#                            'rectangular_peg_hole_12mm_loose',
#                            'rectangular_peg_hole_16mm_loose']

record_video: True
record_ft: True
tactile_display_viz: True

data_logger:
    # for data collection
    collect_data: False
    total_trajectories: 10
    base_folder: "/home/roblab20/tactile_insertion"
    sub_folder: "datastore_0"

# taking from training default, allows to over write
# actually, we should write different config for each observation we test
rl:
    max_episode_length: 700
    pos_action_scale: [0.01, 0.01, 0.01]
    rot_action_scale: [0.02, 0.02, 0.02]
    clamp_rot: ${...task.rl.clamp_rot}
    clamp_rot_thresh: ${...task.rl.clamp_rot_thresh}

env:
  tactile_seq_length: ${...task.env.tactile_history_len}
  ft_seq_length: ${...task.env.ft_history_len}
  obs_seq_length: 1  #${...task.env.numObsHist} old implementation
  stud_obs_seq_length: 1 # ${...task.env.numObsStudentHist}

  priv_info_dim: 7 # ${...task.env.numStates}
  numObservations: 24 # ${...task.env.numObservations}
  numObsStudent: 24 # ${...task.env.numObsStudent}
  numActions: ${...task.env.numActions}
  numTargets: ${...task.env.numTargets}
  socket_pos_obs_noise: [ 0.001, 0.001, 0.0 ]
  socket_rot_obs_noise: [ 0.0, 0.0, 0.0 ]
  fingertip_midpoint_rot_initial: [ -3.14159265359, 0.0, -1.57079632679 ]

  kuka_depth: ${...task.env.kuka_depth}
  table_height: ${...task.env.table_height}

  compute_contact_gt: False
  only_contact: True
  num_points: 300

ppo:
  priv_info: True

  extrin_adapt: False
  tactile_info: False
  obs_info: False
  ft_info: False

  tactile_seq_length: ${...task.env.tactile_history_len}
  ft_seq_length: ${...task.env.ft_history_len}
  obs_seq_length: ${...task.env.numObsHist}
  stud_obs_seq_length: ${...task.env.numObsStudentHist}
  priv_info_dim: 7 # ${...task.env.numStates}
  student_obs_input_shape: 24 # ${...task.env.numObsStudent}
  ft_input_dim: 6


network:
  mlp:
    units: [512, 256, 128]
  priv_mlp:
    units: [256, 128, 8]
  ft_mlp:
    units: [128, 64, 16]
  obs_mlp:
    units: [1024, 512, 128, 32]
  tactile_mlp:
    units: [300, 128, 32]
  merge_mlp:
    units: [128, 64, 8]
  contact_mlp:
    units: [ 128, 64, 16]
  tactile_decoder:
    num_channels: ${....task.tactile.decoder.num_channels}
    tactile_seq_length: ${....task.env.tactile_history_len}
    img_width: ${....task.tactile.decoder.width}
    img_height: ${....task.tactile.decoder.height}

common_poses:
  socket_pos: [0.5006071086121126, 0.0006204513881582756, 0.001] # 009008710908020141
  joints_above_socket: [-0.01306919673345508, 0.46035625642851, -3.115810324760627, -1.5234410615555438, -0.012022574425053278, -1.1572361716453639, 1.5847205313963213, 0.0]
  joints_above_plug: [-0.4343525190442179, 0.3393440474185589, -3.118461501625801, -1.762369221913092, -0.010365555594806786, -1.0404064904168955, 1.172501677329807]

